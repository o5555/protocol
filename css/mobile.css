/* Mobile-first: safe areas, overscroll, tap behavior */

:root {
  --sat: env(safe-area-inset-top);
  --sar: env(safe-area-inset-right);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
}

/* Prevent iOS rubber-banding on the app shell */
html {
  overscroll-behavior-y: contain;
}

/* Remove tap highlight on all interactive elements */
button, a, input, select, textarea, label {
  -webkit-tap-highlight-color: transparent;
}

/* Bottom navigation: pad for notched phones */
.bottom-nav {
  padding-bottom: var(--sab);
}

/* Main content: clear notch/Dynamic Island at top, tab bar at bottom */
.app-main {
  padding-top: calc(16px + var(--sat));
  padding-bottom: calc(64px + var(--sab));
}

/* Header: pad for standalone mode status bar */
.app-header {
  padding-top: var(--sat);
}

/* Standalone PWA: extra top padding when browser chrome is hidden */
@media all and (display-mode: standalone) {
  .app-header {
    padding-top: var(--sat);
  }
}

/* Onboarding section: safe-area padding */
#onboarding-section {
  padding-top: var(--sat);
  padding-bottom: var(--sab);
}

/* Safe bottom padding for modals (iPhone notch) */
.safe-bottom {
  padding-bottom: calc(8px + var(--sab));
}

/* ── Oura-style Sync Ring ── */

@keyframes sync-ring-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes sync-ring-glow {
  0%, 100% { filter: drop-shadow(0 0 4px rgba(0, 200, 160, 0.2)); }
  50% { filter: drop-shadow(0 0 14px rgba(0, 200, 160, 0.5)); }
}

.sync-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 48px 24px;
}

.sync-ring-container {
  position: relative;
  width: 96px;
  height: 96px;
  margin-bottom: 20px;
}

.sync-ring-svg {
  animation: sync-ring-spin 1.4s linear infinite, sync-ring-glow 2.5s ease-in-out infinite;
}

.sync-ring-bg {
  stroke: rgba(42, 42, 78, 0.4);
  fill: none;
  stroke-width: 3.5;
}

.sync-ring-progress {
  stroke: url(#sync-gradient);
  fill: none;
  stroke-width: 3.5;
  stroke-linecap: round;
  stroke-dasharray: 188 63;
  stroke-dashoffset: 0;
  transform-origin: center;
  transform: rotate(-90deg);
}

.sync-label {
  font-size: 13px;
  color: #6b7280;
  letter-spacing: 0.03em;
}

/* Onboarding step transition animation */
.onboarding-step-enter {
  opacity: 0;
  transform: translateY(12px);
}

.onboarding-step-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.3s ease, transform 0.3s ease;
}
